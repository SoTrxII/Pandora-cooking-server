{"openapi":"3.0.0","info":{"title":"Pandora Cooking Server","version":"1.0.0"},"paths":{"/{id}":{"get":{"description":"Retrieve audio from an existing record","responses":{"200":{"description":"Returns audio","content":{"audio/*":{"schema":{"type":"string","format":"binary"}},"application/octet-stream":{"schema":{"type":"string","format":"binary"}},"application/zip":{"schema":{"type":"string","format":"binary"}}}},"404":{"description":"Audio not found"},"422":{"description":"The provided container/format aren't compatible with each other"},"500":{"description":"Something went wrong"}},"parameters":[{"name":"id","in":"path","description":"Record ID","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"container","in":"query","required":false,"schema":{"type":"string","enum":["mix","aupzip","zip","matroska","ogg"],"default":"mix"},"description":{"$ref":"#/components/desc/container"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","enum":["copy","oggflac","vorbis","aac","heaac","flac","opus","wav","adpcm","wav8","mp3","ra"],"default":"opus"},"description":{"$ref":"#/components/desc/format"}}]},"delete":{"description":"Delete all files from a recording","responses":{"204":{"description":"File successfully deleted"},"401":{"description":"This record is currently being downloaded and can't be deleted"},"500":{"description":"Something went wrong"}},"parameters":[{"name":"id","in":"path","description":"Record ID","required":true,"schema":{"type":"integer","format":"int32"}}]}},"/":{"post":{"description":"Process one or more records asynchronously. Records will be either store on local FS or object storage if provided","responses":{"202":{"description":"Transcoding job has been accepted"},"404":{"description":"Record not found"},"422":{"description":"The provided container/format aren't compatible with each other"},"500":{"description":"Something went wrong"}},"requestBody":{"required":true,"content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"ids":{"type":"array","items":{"type":"integer"}},"container":{"type":"string","enum":["mix","aupzip","zip","matroska","ogg"],"default":"mix","description":{"$ref":"#/components/desc/container"}},"format":{"type":"string","enum":["copy","oggflac","vorbis","aac","heaac","flac","opus","wav","adpcm","wav8","mp3","ra"],"default":"opus","description":{"$ref":"#/components/desc/format"}}},"required":["ids"]},{"type":"object","properties":{"ids":{"type":"integer","format":"int32"},"container":{"type":"string","enum":["mix","aupzip","zip","matroska","ogg"],"default":"mix","description":{"$ref":"#/components/desc/container"}},"format":{"type":"string","enum":["copy","oggflac","vorbis","aac","heaac","flac","opus","wav","adpcm","wav8","mp3","ra"],"default":"opus","description":{"$ref":"#/components/desc/format"}}},"required":["id"]}]}}}}}}},"components":{"desc":{"container":"File container:\n* `mix` - One audio file for the whole recording\n* `zip` - One audio file per user in a zip file\n* `ogg` - Multi-channels .ogg file\n* `matroska` - Multi-channels .mka file\n* `aupzip` - one audio file par user in a zipped Audacity project\n","format":"Audio codec/extension wanted:\n* `copy` - Copy the raw ogg streams for each user. This option isn't compatible with the mix container.\n* `oggflac`\n* `aac`\n* `heaac` - Be careful, this one is platform-dependant.\n* `vorbis`\n* `flac`\n* `opus`\n* `wav`\n* `adpcm`\n* `wav8`\n* `mp3`\n* `ra`\n"}},"tags":[]}